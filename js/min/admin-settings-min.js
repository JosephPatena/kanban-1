function set_positions(){jQuery(".sortable").each(function(){jQuery("li",this).each(function(e){for(var t=e+"";t.length<3;)t="0"+t;jQuery(".position",this).val(t)})})}jQuery(function($){function e(e){$('.nav-tab[href="'+e+'"]').addClass("nav-tab-active"),$(".nav-tab").not('[href="'+e+'"]').removeClass("nav-tab-active"),$(".tab").not(e).hide(),$(e).show()}$(".nav-tab-wrapper a").on("click",function(){var t=$(this),a=t.attr("href");e(a);var r=a.replace(/^.*#/,""),n=document.getElementById(r);return n.id=r+"-tmp",window.location.hash=a,n.id=r,!1}),"undefined"!=typeof window.location.hash&&""!==window.location.hash&&e(window.location.hash),$(".color-picker").wpColorPicker(),$(".button-sortable-add").on("click",function(){var e=$(this),a=e.attr("data-t"),r=new t($("#"+a).html()),n=e.closest(".tab"),o=$(".sortable",n),i=$("li.new",o).length,s=r.render();s=s.replace(/\[count\]/g,"["+i+"]");var c=$(s).addClass("new").appendTo(o);$("[data-name]",c).each(function(){$(this).attr("name",$(this).attr("data-name"))}),$(".color-picker",c).wpColorPicker(),set_positions()}),$(".sortable").on("click",".delete",function(){$(this).closest("li").slideUp("fast",function(){$(this).remove()})}),$(".sortable").sortable({helper:"clone",items:"li",handle:".handle",stop:function(){set_positions()}}),$(".users-filter").on("keyup",function(){var e=$(this),t=e.val(),a=$.trim(t.toLowerCase()),r=e.closest("fieldset");return""==a?($("label:hidden",r).slideDown("fast"),!1):void $("label",r).each(function(){var e=$(this),t=e.text(),r=$.trim(t.toLowerCase());r.search(a)>-1?e.slideDown("fast"):e.is(":visible")&&e.slideUp("fast")})}),$(".button-add-user").on("click",function(){var e=$("#form-new-user");$(".error",e).remove();var t={action:"kanban_register_user"};return $("input",e).each(function(){var e=$(this);t[e.attr("id")]=e.val()}),$.post(ajaxurl,t).done(function(t){var a="error",r="";try{t.success?(a="updated",r="User created and emailed."):r=t.data.error}catch(n){r="There was an error creating the user."}""!=r&&$('<div class="'+a+'"><p>'+r+"</p></div>").prependTo(e)}).fail(function(t){var a="error",r="There was an error creating the user.";$('<div class="'+a+'"><p>'+r+"</p></div>").prependTo(e)}),!1})});